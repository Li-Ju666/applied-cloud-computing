version: '3.7'

services: 

  rabbit: 
    hostname: admin
    image: rabbitmq:3-management
    environment: 
      - RABBITMQ_DEFAULT_USER=admin
      - RABBITMQ_DEFAULT_PASS=admin
    
    # ports: 
    #   - 1349:1349

  worker: 
    build: 
      context: .
      dockerfile: dockerfile
    volumes: 
      - ./:/app
    links: 
      - rabbit
    depends_on: 
      - rabbit
